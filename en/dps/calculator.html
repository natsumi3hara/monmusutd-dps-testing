<!DOCTYPE html>
<html>
    <head>
        <!-- Google tag (gtag.js) 
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-1914Y0N5HJ"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-1914Y0N5HJ');
        </script>-->
        <meta charset="utf-8"/>
        <title>DPS Calculator</title>
        <script src="../../scripts/console&devTools.js"></script>
        <link href="../../css/dpsTEST.css" rel="stylesheet" type="text/css"/>
        <script src="../../scripts/statsCalc/allDataEN.js"></script>
        <script src="../../scripts/statsCalc/allUnitcardEN.js"></script>
        <script src="../../scripts/statsCalc/eBuffType.js"></script>
        <script src="../../scripts/statsCalc/partybuff.js"></script>
        <script src="../../scripts/dpsCalcTEST.js"></script>
        <script src="../../scripts/equipConvert.js"></script>
        <script src="../../scripts/statsCalc/cond-timing-range.js"></script>
        <script src="../../scripts/statsCalc/attackPatterns.js"></script>
        <script src="../../scripts/statsCalc/continuousPatterns.js"></script>
        <script src="../../scripts/statsCalc/selfStunPatterns.js"></script>
        <script src="../../scripts/statsCalc/extraInfoList.js"></script>
        <script src="../../scripts/insert-scripts/insert_MasterDict.js"></script>
        <script>
            var console = {};
            console.log = function(){};
            const params = (new URL(document.location)).searchParams;
            var masterValues = {};
            masterValues["language"] = "en";
            masterValues["charaID"] = Number(params.get("id"));
            masterValues["unitcard"] = window["card"+params.get("id")];
            masterValues["charaAwaked"] = (params.get("awaked")==="true");
            masterValues["baseClass"] = masterValues.unitcard["classId"];
            masterValues["allBuff"] = {} //temp global storage for each stat calc
            var notawakedURL = document.location.href.split("?")[0] + "?id=" + params.get("id");
            var awakedURL = document.location.href.split("?")[0] + "?id=" + params.get("id") + "&awaked=true";
        </script>
        <script>document.write('<script src="../../scripts/statsCalc/'+masterValues["baseClass"].toString()+'.js"><\/script>');</script>
    </head>
    <body>
        <div id="loading-fade">
            <table id="loadText" style="width:100%;height:100%;">
                <tr></tr>
                <tr>
                    <td style="width:100%;vertical-align:middle;">
                        <span id="calculating" style="font-size: 36px;">計算中</span><br>
                        <span id="turnOffFaster" style="font-size: 20px;">読み込みを加速するために一時的に画面を消します。</span><br><br>
                        <span id="shirami" style="color:red;">※虱潰しで除外されたサブスキル以外の全組み合わせを試します。</span><br>
                        <span id="notFreeze" style="color:red;">※フリーズしたに見えるが、ちゃんと計算が行っておりますので、安心してください。</span>
                    </td>
                </tr>
            </table>
        </div>
        <div id="chara-selection">
            <table id="buttonback" style="margin:2px;vertical-align: middle;background-color: beige;width: 100%;">
                <td style="width:40px;"><img onclick="location.href='../filter/index.html'" style="cursor: pointer; width:36px;height:36px;" src="../../img/ui-icons/Common_BtnTitleBackOff.png"></td>
                <td style="width:1%;white-space: nowrap;"><span style="border-radius:4px;background-color: bisque;">Return to Character Selection</span></td>
                <td style="width:1%;white-space: nowrap;"></td>
                <td style="width:1%;white-space: nowrap;"><span style="border-radius:4px;background-color: bisque;">Toggle Full Potential</span></td>
                <td style="width:40px;"><abbr title="Go to page"><img onclick="changeAwaked(masterValues.charaAwaked)" style="cursor: pointer; width:36px;height:36px;" src="../../img/ui-icons/Story_BtnArrowRightOff.png"></td>
                <td></td>
            </table>
        </div>
        <div id="main-display" style="display: flex;">
            <div id="dps-input-info" style="display:flex; flex-direction: column; flex:1;">
                <div id="dps-input">
                    <div class="dps-tabs dps-input-tabs">
                        <button class="dps-input-tablink active" style="border-top-left-radius: 15px;" onclick="openTab(event, 'alliedunit','dps-input-tablink')"><img src="../../img/ui-icons/Friend_ImageiconProfile.png"> Unit</button>
                        <button class="dps-input-tablink" onclick="openTab(event, 'conditions','dps-input-tablink')"><img src="../../img/ui-icons/Common_BtnQuestionOff.png"> Conditions</button>
                        <button class="dps-input-tablink" style="border-top-right-radius: 15px;" onclick="openTab(event, 'enemyunit','dps-input-tablink')"><img src="../../img/ui-icons/Btl_OmenIcon_0.png"> Enemy</button>
                    </div>
                    <div id="alliedunit" class="dps-input-tablink-content dps-tabcontent" style="display: block;">
                        <div>
                            <span>Level：</span><input id="input-level" type="number" min="1" max="120" value="1" onchange="allDPS();">
                            <span>&nbsp;CC：</span><input id="input-cc" type="number" min="0" max="3" value="0" onchange="equipImageChange();allDPS();">
                        </div>
                        <hr>
                        <div style="display: flex;">
                            <div style="width:50%;text-align: center;vertical-align: middle;">
                                <abbr id="equipweaponabbr" title="" style="cursor: help;">
                                    <img src="../../img/equipment-icons/0000.png" id="equipweapon" class="equip-icon"></abbr>
                                <input type="checkbox" id="equip1" class="larger-check" style="vertical-align: middle;" onchange="allDPS();">
                                <abbr id="equipheadabbr" title="" style="cursor: help;">
                                    <img src="../../img/equipment-icons/0000.png" id="equiphead" class="equip-icon"></abbr>
                                <input type="checkbox" id="equip2" class="larger-check" style="vertical-align: middle;" onchange="allDPS();"><br>
                                <abbr id="equipbodyabbr" title="" style="cursor: help;">
                                    <img src="../../img/equipment-icons/0000.png" id="equipaccessory" class="equip-icon"></abbr>
                                <input type="checkbox" id="equip3" class="larger-check" style="vertical-align: middle;" onchange="allDPS();">
                                <abbr id="equipaccessoryabbr" title="" style="cursor: help;">
                                    <img src="../../img/equipment-icons/0000.png" id="equipbody" class="equip-icon"></abbr>
                                <input type="checkbox" id="equip4" class="larger-check" style="vertical-align: middle;" onchange="allDPS();">
                            </div>
                            <table style="width:50%;text-align: center;vertical-align: middle;">
                                <tr>
                                    <td><span id="talent3" style="padding:5px;text-align: center;"></span><input type="checkbox" id="talent3check" class="larger-check" style="vertical-align: bottom;" onchange="allDPS();"></td>
                                </tr>
                                <tr>
                                    <td><span id="talent4" style="padding:5px;text-align: center;"></span><input type="checkbox" id="talent4check" class="larger-check" style="vertical-align: bottom;" onchange="allDPS();"></td>
                                </tr>
                                <tr>
                                    <td><span id="talent5" style="padding:5px;text-align: center;"></span><input type="checkbox" id="talent5check" class="larger-check" style="vertical-align: bottom;" onchange="allDPS();"></td>
                                </tr>
                            </table>
                        </div>
                        <hr>
                        <div style="display: flex;">
                            <div style="width: 50%;">
                                <span id="skill-error" style="color: red;"></span>
                                <span>EX Skill</span>
                                <select name="skill-alt-select" id="skill-alt-select" style="font-family:mtdfont; width: 40%;" onchange="skilltextreplace();allDPS();">
                                    <option value="10000">I</option>
                                    <option value="0">II</option>
                                </select><br>
                                <span>Skill Level</span>
                                <select name="skill-level-select" id="skill-level-select" style="font-family:mtdfont; width: 40%;" onchange="skilltextreplace();allDPS();">
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                </select><br>
                                <span>Skill Change</span>
                                <select name="skill-change-select" id="skill-change-select" style="font-family:mtdfont; width: 40%;" onchange="skilltextreplace();allDPS();">
                                    <option value="0">Change 0</option>
                                    <option value="200000">Change 1</option>
                                    <option value="201000">Change 2</option>
                                    <option value="202000">Change 3</option>
                                    <option value="203000">Change 4</option>
                                </select>
                            </div>
                            <div id="unique-weapon-div" style="width: 50%;">
                                <script>uniqueWeaponReplace(masterValues.charaID)</script>
                            </div>
                        </div>
                        <hr>
                        <span>Subskill 1</span>
                        <select id="subskill1" style="font-size: smaller;width:50%;font-family: mtdfont;" onchange="allDPS();">
                        </select><span id="subskill1condcheck"></span><br>
                        <span>Subskill 2</span>
                        <select id="subskill2" style="font-size: smaller;width:50%;font-family: mtdfont;" onchange="allDPS();">
                        </select><span id="subskill2condcheck"></span>
                    </div>
                    <div id="conditions" class="dps-input-tablink-content dps-tabcontent" style="display: none;">
                        <script src="../../scripts/insert-scripts-en/insertCharaSpecific.js"></script>
                        <hr>
                        <script src="../../scripts/insert-scripts-en/insertShared.js"></script><br>
                        <script src="../../scripts/insert-scripts-en/insertParty.js"></script><br>
                        <script src="../../scripts/insert-scripts-en/insertDivine.js"></script><br>
                        <script src="../../scripts/insert-scripts-en/insertOtherPassive.js"></script><br>
                        <script src="../../scripts/insert-scripts-en/insertOtherSkill.js"></script><br>
                        <script src="../../scripts/insert-scripts-en/insertSupporter.js"></script><br>
                        <script src="../../scripts/insert-scripts-en/insertExtraBuffs.js"></script>
                    </div>
                    <div id="enemyunit" class="dps-input-tablink-content dps-tabcontent" style="display: none;">
                        <div>
                            <span>&nbsp;pDef：</span><input id="input-enemy-stat3" type="number" min="0" max="99999" value="0" onchange="allDPS();">
                            <span>&nbsp;mDef：</span><input id="input-enemy-stat4" type="number" min="0" max="99999" value="0" onchange="allDPS();"><br>
                            <span>&nbsp;Dmg Reduction：</span><input id="input-enemy-dmgRed" type="number" min="0" max="100" value="0" onchange="allDPS();" style="width:15%"><span> %</span><br>
                            <hr>
                            <span>&nbsp;Blocked enemies：</span><input id="input-number-blocked" type="number" min="0" max="99" value="0" onchange="isBlock(this.value);allDPS();" style="width:15%"><br>
                            <span>&nbsp;Enemies in Range：</span><input id="input-number-inRange" type="number" min="0" max="99" value="0" onchange="attackTargetCount(this.value);allDPS();" style="width:15%"><br>
                            <!-- exclude until can reliably determine
                            <span>&nbsp;AOE等に巻き込んだ敵(追加)：</span><input id="input-number-extraAffect" type="number" min="0" max="99" value="0" onchange="allDPS();" style="width:15%">
                            <span>&nbsp;ダメージ倍率：</span><input id="input-number-extraAffectDamage" type="number" value="100" style="width:10%" disabled><br>
                            -->
                            <span>&nbsp;Exclude Continuous Damage</span><input type="checkbox" id="exclude-continuous-damage" class="larger-check" style="vertical-align: bottom;" onchange="allDPS();">
                            <hr>
                            <button type="button" class="collapsible-button inputInsertButton" style="margin-bottom:4px;">Enemy details(click to expand)</button>
                            <div class="collapsible-content" style="display:none;">
                                <span>Gender</span>
                                <select id="gender-enemy-select" style="font-family:mtdfont; width: 20%;" onchange="enemyConditionChange('1005',this.value);allDPS();">
                                    <option value="0">Male</option>
                                    <option value="1">Female</option>
                                    <option value="2">Both</option>
                                    <option value="3" selected>None</option>
                                </select><br><br>
                                <span style="text-align: center; border: 1px solid black;">&nbsp;Status Effects&nbsp;</span><br>
                                <span style="text-align: center;">Stunned</span><input type="checkbox" id="enemystun" class="larger-check" style="vertical-align: bottom;" onchange="enemyStun(this.checked);allDPS();">
                                <span style="text-align: center;">Petrified</span><input type="checkbox" id="enemypetrify" class="larger-check" style="vertical-align: bottom;" onchange="enemyPetrify(this.checked);allDPS();">
                                <span style="text-align: center;">Poisoned</span><input type="checkbox" id="enemypoison" class="larger-check" style="vertical-align: bottom;" onchange="enemyPoison(this.checked);allDPS();">
                                <span style="text-align: center;">Attacked from behind(Ameri)</span><input type="checkbox" id="enemybackattack" class="larger-check" style="vertical-align: bottom;" onchange="enemyPoison(this.checked);allDPS();"><br>
                                <span style="text-align: center; border: 1px solid black;">&nbsp;Movement Type&nbsp;</span><br>
                                <span style="text-align: center;">Ground</span><input type="checkbox" id="enemyground" class="larger-check" style="vertical-align: bottom;" onchange="enemyGround(this.checked);allDPS();">
                                <span style="text-align: center;">Flying</span><input type="checkbox" id="enemyflying" class="larger-check" style="vertical-align: bottom;" onchange="enemyFlying(this.checked);allDPS();"><br>
                                <span style="text-align: center; border: 1px solid black;">&nbsp;Species&nbsp;</span><br>
                                <span style="text-align: center;">Human</span><input type="checkbox" id="enemyhuman" class="larger-check" style="vertical-align: bottom;" onchange="enemyHuman(this.checked);allDPS();">
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div id="dps-info">
                    <div id="dps-info-stats">
                        <div class="dps-tabs dps-info-stats-tabs">
                            <button class="dps-info-stats-tablink active" style="border-top-left-radius: 15px;" onclick="openTab(event, 'info-main','dps-info-stats-tablink')"><img src="../../img/ui-icons/Friend_ImageiconProfile.png"> Info</button>
                            <button class="dps-info-stats-tablink" onclick="openTab(event, 'info-nerd','dps-info-stats-tablink')"><img src="../../img/ui-icons/sub_skill.png"> Optimise subskills</button>
                            <button class="dps-info-stats-tablink" style="border-top-right-radius: 15px;" onclick="openTab(event, 'info-misc','dps-info-stats-tablink')"><img src="../../img/ui-icons/Btl_OmenIcon_0.png"> UC</button>
                        </div>
                        <div id="info-main" class="dps-info-stats-tablink-content dps-tabcontent">
                            <table>
                                <tr>
                                    <td class="displaytext">Name</td>
                                    <td id="dps-info-charaName" colspan="3">Amazingly few discotheques provide jukeboxes.</td>
                                </tr>
                                <tr>
                                    <td class="displaytext">Class</td>
                                    <td id="dps-info-jobTitle">バルス</td>
                                    <td class="displaytext">Initial Cost</td>
                                    <td id="dps-info-initialCost">88</td>
                                </tr>
                                <tr>
                                    <td class="displaytext">Class Trait</td>
                                    <td id="dps-info-jobInfo" colspan="3">Amazingly few discotheques provide jukeboxes.</td>
                                </tr>
                                <tr>
                                    <td class="displaytext">Other Info</td>
                                    <td id="dps-info-extraInfo" colspan="3">Amazingly few discotheques provide jukeboxes.</td>
                                </tr>
                            </table>
                        </div>
                        <div id="info-nerd" class="dps-info-stats-tablink-content dps-tabcontent" style="display: none;">
                            <span>Optimise mode：</span>
                            <select id="optimise-type-select" style="font-family:mtdfont; width:20%;">
                                <option value="0">Off-skill</option>
                                <option value="1">Skill</option>
                                <option value="2" selected>Overall</option>
                            </select>
                            <table>
                                <tr style="display: none;">
                                    <td class="displaytext" style="width: 25%;">Excluded subskills</td>
                                    <td style="width: 75%;">
                                        <input id="excluded-subskills" value="0,1052,1102,1001,1002,1003,1007,1008,1009,1010,1011,1012,1013,1014,1015,1016,1017,1018,1019,1020,1021,1022,1023,1024,1028,1029,1030,1031,1032,1033,1043,1044,1045,1046,1047,1048,1049,1051,1053,1054,1055,1058,1060,1061,1062,1065,1066,1067,1068,1069,1072,1075,1078,1079,1081,1083,1084,1085,1086,1092,1093,1094,1095,1097,1099,1100" style="font-size:8px;" disabled>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="2" class="displaytext" style="border:none;">
                                        <button type="button" class="collapsible-button subskillOptimiseExpand" style="margin-bottom:1px;">Choose excluded subskills (Click to expand)</button>
                                        <div class="collapsible-content" style="display:none;">
                                            <table id="excludeSubskillSelect">
                                                <script src="../../scripts/insert-scripts-en/insertExcludeSubskillTable.js"></script>
                                            </table>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                            <hr>
                            <table>
                                <tr>
                                    <td colspan="2" class="displaytext" style="text-align:left;border:none;font-size:small;color:red;">
                                        ※For 1 subskill, you can freely select the <u>second</u> subskill.<br>
                                        ※This process cycles through every combination of subskills not excluded.
                                    </td>
                                </tr>
                                <tr>
                                    <td class="displaytext" style="border: none;">
                                        <button class="subskill-optimise-button" onclick="subskillLoadOrder(1);">Optimise 1 subskill</button>
                                    </td>
                                    <td class="displaytext" style="border: none;">
                                        <button class="subskill-optimise-button" onclick="subskillLoadOrder(2);">Optimise 2 subskills</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="displaytext" style="border:none;font-size:x-small;">Time taken:About 3s(Default) to 5s(All)</td>
                                    <td class="displaytext" style="border:none;font-size:x-small;">Time taken:About 40s(Default) to 4min(All)</td>
                                </tr>
                            </table>
                            <!--
                            <div class="popup-loading">
                                <div id="subskill-optimise-bar"></div>
                            </div>
                            <div>
                                <button onclick="moveSubskillBar(50)">Progress 50</button>
                                <button onclick="moveSubskillBar(60)">Progress 60</button>
                                <button onclick="moveSubskillBar(75)">Progress 75</button>
                                <button onclick="moveSubskillBar(90)">Progress 90</button>
                                <button onclick="moveSubskillBar(100)">Progress 100</button>
                            </div>-->
                            <hr>
                            <table>
                                <tr>
                                    <td class="displaytext" rowspan="2" style="width:10%;">1st</td>
                                    <td class="displaytext" style="width:20%;">Subskill 1</td>
                                    <td id="optimise-1-1" style="width:45%;"></td>
                                    <td class="displaytext" rowspan="2" style="width:10%;">DPS</td>
                                    <td id="optimise-dps-1" rowspan="2" style="width:25%;">dps1</td>
                                </tr>
                                <tr>
                                    <td class="displaytext" style="width:20%;">Subskill 2</td>
                                    <td id="optimise-1-2" style="width:45%;"></td>
                                </tr>
                                <tr></tr>
                                <tr>
                                    <td class="displaytext" rowspan="2" style="width:10%;">2nd</td>
                                    <td class="displaytext" style="width:20%;">Subskill 1</td>
                                    <td id="optimise-2-1" style="width:45%;"></td>
                                    <td class="displaytext" rowspan="2" style="width:10%;">DPS</td>
                                    <td id="optimise-dps-2" rowspan="2" style="width:25%;">dps2</td>
                                </tr>
                                <tr>
                                    <td class="displaytext" style="width:20%;">Subskill 2</td>
                                    <td id="optimise-2-2" style="width:45%;"></td>
                                </tr>
                                <tr></tr>
                                <tr>
                                    <td class="displaytext" rowspan="2" style="width:10%;">3rd</td>
                                    <td class="displaytext" style="width:20%;">Subskill 1</td>
                                    <td id="optimise-3-1" style="width:45%;"></td>
                                    <td class="displaytext" rowspan="2" style="width:10%;">DPS</td>
                                    <td id="optimise-dps-3" rowspan="2" style="width:25%;">dps3</td>
                                </tr>
                                <tr>
                                    <td class="displaytext" style="width:20%;">Subskill 2</td>
                                    <td id="optimise-3-2" style="width:45%;"></td>
                                </tr>
                            </table>
                            <button type="button" class="collapsible-button subskillOptimiseExpand" style="margin-bottom:4px;">4th - 10th (click to expand)</button>
                            <div style="display: none;">
                                <table>
                                    <tr>
                                        <td class="displaytext" rowspan="2" style="width:10%;">4th</td>
                                        <td class="displaytext" style="width:20%;">Subskill 1</td>
                                        <td id="optimise-4-1" style="width:45%;"></td>
                                        <td class="displaytext" rowspan="2" style="width:10%;">DPS</td>
                                        <td id="optimise-dps-4" rowspan="2" style="width:25%;">dps4</td>
                                    </tr>
                                    <tr>
                                        <td class="displaytext" style="width:20%;">Subskill 2</td>
                                        <td id="optimise-4-2" style="width:45%;"></td>
                                    </tr>
                                    <tr>
                                        <td class="displaytext" rowspan="2" style="width:10%;">5th</td>
                                        <td class="displaytext" style="width:20%;">Subskill 1</td>
                                        <td id="optimise-5-1" style="width:45%;"></td>
                                        <td class="displaytext" rowspan="2" style="width:10%;">DPS</td>
                                        <td id="optimise-dps-5" rowspan="2" style="width:25%;">dps5</td>
                                    </tr>
                                    <tr>
                                        <td class="displaytext" style="width:20%;">Subskill 2</td>
                                        <td id="optimise-5-2" style="width:45%;"></td>
                                    </tr>
                                    <tr>
                                        <td class="displaytext" rowspan="2" style="width:10%;">6th</td>
                                        <td class="displaytext" style="width:20%;">Subskill 1</td>
                                        <td id="optimise-6-1" style="width:45%;"></td>
                                        <td class="displaytext" rowspan="2" style="width:10%;">DPS</td>
                                        <td id="optimise-dps-6" rowspan="2" style="width:25%;">dps6</td>
                                    </tr>
                                    <tr>
                                        <td class="displaytext" style="width:20%;">Subskill 2</td>
                                        <td id="optimise-6-2" style="width:45%;"></td>
                                    </tr>
                                    <tr>
                                        <td class="displaytext" rowspan="2" style="width:10%;">7th</td>
                                        <td class="displaytext" style="width:20%;">Subskill 1</td>
                                        <td id="optimise-7-1" style="width:45%;"></td>
                                        <td class="displaytext" rowspan="2" style="width:10%;">DPS</td>
                                        <td id="optimise-dps-7" rowspan="2" style="width:25%;">dps7</td>
                                    </tr>
                                    <tr>
                                        <td class="displaytext" style="width:20%;">Subskill 2</td>
                                        <td id="optimise-7-2" style="width:45%;"></td>
                                    </tr>
                                    <tr>
                                        <td class="displaytext" rowspan="2" style="width:10%;">8th</td>
                                        <td class="displaytext" style="width:20%;">Subskill 1</td>
                                        <td id="optimise-8-1" style="width:45%;"></td>
                                        <td class="displaytext" rowspan="2" style="width:10%;">DPS</td>
                                        <td id="optimise-dps-8" rowspan="2" style="width:25%;">dps8</td>
                                    </tr>
                                    <tr>
                                        <td class="displaytext" style="width:20%;">Subskill 2</td>
                                        <td id="optimise-8-2" style="width:45%;"></td>
                                    </tr>
                                    <tr>
                                        <td class="displaytext" rowspan="2" style="width:10%;">9th</td>
                                        <td class="displaytext" style="width:20%;">Subskill 1</td>
                                        <td id="optimise-9-1" style="width:45%;"></td>
                                        <td class="displaytext" rowspan="2" style="width:10%;">DPS</td>
                                        <td id="optimise-dps-9" rowspan="2" style="width:25%;">dps9</td>
                                    </tr>
                                    <tr>
                                        <td class="displaytext" style="width:20%;">Subskill 2</td>
                                        <td id="optimise-9-2" style="width:45%;"></td>
                                    </tr>
                                    <tr>
                                        <td class="displaytext" rowspan="2" style="width:10%;">10th</td>
                                        <td class="displaytext" style="width:20%;">Subskill 1</td>
                                        <td id="optimise-10-1" style="width:45%;"></td>
                                        <td class="displaytext" rowspan="2" style="width:10%;">DPS</td>
                                        <td id="optimise-dps-10" rowspan="2" style="width:25%;">dps10</td>
                                    </tr>
                                    <tr>
                                        <td class="displaytext" style="width:20%;">Subskill 2</td>
                                        <td id="optimise-10-2" style="width:45%;"></td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div id="info-misc" class="dps-info-stats-tablink-content dps-tabcontent" style="display: none;">
                            info
                        </div>
                    </div>
                </div>   
            </div>
            <div style="width: 2px;"></div>
            <div id="dps-dps-output" style="display:flex; flex-direction: column; flex:1;">
                <div id="dps-dps">
                    <div id="dps-dps-stats">
                        <div class="dps-tabs dps-dps-stats-tabs">
                            <button class="dps-dps-stats-tablink active" style="border-top-left-radius: 15px;" onclick="openTab(event, 'dps-all','dps-dps-stats-tablink')"><img src="../../img/ui-icons/BattleResult_ImageVictoryLogoStar.png"> DPS(Overall)</button>
                            <button class="dps-dps-stats-tablink" onclick="openTab(event, 'dps-battle','dps-dps-stats-tablink')"><img src="../../img/ui-icons/Footer_ImageAdventureIcon.png"> Offskill</button>
                            <button class="dps-dps-stats-tablink" style="border-top-right-radius: 15px;" onclick="openTab(event, 'dps-skill','dps-dps-stats-tablink')"><img src="../../img/ui-icons/Btl_SkillNotice_Skill.png"> Skill</button>
                        </div>
                        <div id="dps-all" class="dps-dps-stats-tablink-content dps-tabcontent" style="display:block;">
                            <span id="enemy-remind3" style="display:block;width:100%;color:red;text-align:right;"></span>
                            <table>
                                <tr>
                                    <td colspan="99" style="background-color:#bffcff;border:2px solid #efdfb0;">
                                        <table>
                                            <tr style="font-size: 2vw;">
                                                <td class="displaytext">Overall DPS：</td>
                                                <td id="dps-all-final">88888.88</td>
                                            </tr>
                                            <tr>
                                                <td class="displaytext">Offskill DPS：</td>
                                                <td id="dps-all-battle">88888.88</td>
                                            </tr>
                                            <tr>
                                                <td class="displaytext">Skill DPS：</td>
                                                <td id="dps-all-skill">88888.88</td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="displaytext">Skill</td>
                                    <td id="dps-all-skillDuration">88</td>
                                    <td class="displaytext">Skill <abbr title="Cooldown" style="cursor:help;">CD</abbr></td>
                                    <td id="dps-all-skillCooldown">88</td>
                                    <td class="displaytext">Initial</td>
                                    <td id="dps-all-skillFirst">88</td>
                                </tr>
                                <tr>
                                    <td class="displaytext"></td>
                                    <td class="displaytext"></td>
                                    <td class="displaytext"><abbr title="Duration of not being able to move after skill" style="cursor:help;">Immobile</abbr></td>
                                    <td id="dps-all-skillSelfStun">88</td>
                                    <td class="displaytext"><abbr title="Using movement to invalidate the immobile duration" style="cursor:help;">Invalidate</abbr></td>
                                    <td class="displaytext">
                                        <span style="text-align: center;"></span><input type="checkbox" id="selfStun-invalid" class="larger-check" style="vertical-align: bottom;" onchange="allDPS();">
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div id="dps-battle" class="dps-dps-stats-tablink-content dps-tabcontent" style="display: none;">
                            <span id="enemy-remind1" style="display:block;width:100%;color:red;text-align:right;"></span>
                            <table>
                                <tr>
                                    <td colspan="3" class="displaytext" style="font-size: 1.5em;">Offskill DPS</td>
                                    <td colspan="3" id="dps-battle-finalDPS" style="font-size: 1.5em;">8888.88</td>
                                </tr>
                                <tr>
                                    <td colspan="6" class="displaytext"></td>
                                </tr>
                                <tr>
                                    <td class="displaytext">Avg. Dmg</td>
                                    <td id="dps-dps-battle-averageDmg">8888.88</td>
                                    <td class="displaytext">Avg. Hits</td>
                                    <td id="dps-dps-battle-averageHit">8</td>
                                    <td class="displaytext">Avg. Frames</td>
                                    <td id="dps-dps-battle-averageFrame">8</td>
                                </tr>
                                <tr>
                                    <td class="displaytext">Cont. Dmg</td>
                                    <td id="dps-dps-battle-dmgC">8888.88</td>
                                    <td class="displaytext">Targets</td>
                                    <td id="dps-dps-battle-targetC">88</td>
                                    <td class="displaytext">Frames</td>
                                    <td id="dps-dps-battle-frameC">888</td>
                                </tr>
                            </table>
                            <hr>
                            <table>
                                <tr>
                                    <td class="displaytext">Dmg Up%</td>
                                    <td id="dps-output-battle-value-stat76">8888</td>
                                    <td class="displaytext">Targets</td>
                                    <td id="dps-output-battle-value-stat11">8</td>
                                    <td class="displaytext">Hits</td>
                                    <td id="dps-output-battle-value-stat9">8</td>
                                </tr>
                                <tr>
                                    <td class="displaytext">Type</td>
                                    <td id="dps-output-battle-value-stat22">8</td>
                                    <td class="displaytext">Targeting</td>
                                    <td id="dps-output-battle-value-stat21">8</td>
                                </tr>
                            </table>
                            <button class="collapsible-button" style="font-family:mtdfont;font-size:smaller;background-color:#bffcff;border:none;padding:0px;cursor:pointer;">Critical/Penetration↓</button>
                            <div style="display: block;">
                                <table id="dps-critPen-battle">
                                    <tr>
                                        <td class="displaytext"></td>
                                        <td class="displaytext"></td>
                                        <td class="displaytext">Chance(%)</td>
                                        <td class="displaytext">Mult(%)</td>
                                        <td class="displaytext">Single Hit</td>
                                    </tr>
                                    <tr>
                                        <td class="displaytext" colspan="2">テキスト</td>
                                        <td>88.888</td>
                                        <td>888</td>
                                        <td>88888</td>
                                    </tr>
                                </table>
                            </div>
                            <div></div>
                            <button class="collapsible-button" style="font-family:mtdfont;font-size:smaller;background-color:#bffcff;border:none;padding:0px;cursor:pointer;">Attack Details↓</button>
                            <div style="display: block;">
                                <table id="dps-attacks-battle">
                                    <tr>
                                        <td class="displaytext"></td>
                                        <td class="displaytext"></td>
                                        <td class="displaytext">Chance(%)</td>
                                        <td class="displaytext">Targets</td>
                                        <td class="displaytext">Hits</td>
                                        <td class="displaytext">Frames</td>
                                    </tr>
                                    <tr>
                                        <td class="displaytext" colspan="2">テキスト</td>
                                        <td>88.88</td>
                                        <td>8</td>
                                        <td>88</td>
                                        <td>888</td>
                                    </tr>
                                </table>
                            </div>
                            <div></div>
                        </div>
                        <div id="dps-skill" class="dps-dps-stats-tablink-content dps-tabcontent" style="display: none;">
                            <span id="enemy-remind2" style="display:block;width:100%;color:red;text-align:right;"></span>
                            <table>
                                <tr>
                                    <td colspan="3" class="displaytext" style="font-size: 1.5em;">Skill DPS</td>
                                    <td colspan="3" id="dps-skill-finalDPS" style="font-size: 1.5em;">8888.88</td>
                                </tr>
                                <tr>
                                    <td colspan="6" class="displaytext"></td>
                                </tr>
                                <tr>
                                    <td class="displaytext">Avg. Dmg</td>
                                    <td id="dps-dps-skill-averageDmg">8888.88</td>
                                    <td class="displaytext">Avg. Hits</td>
                                    <td id="dps-dps-skill-averageHit">8</td>
                                    <td class="displaytext">Avg. Frames</td>
                                    <td id="dps-dps-skill-averageFrame">8</td>
                                </tr>
                                <tr>
                                    <td class="displaytext">Cont. Dmg</td>
                                    <td id="dps-dps-skill-dmgC">8888.88</td>
                                    <td class="displaytext">Targets</td>
                                    <td id="dps-dps-skill-targetC">88</td>
                                    <td class="displaytext">Frames</td>
                                    <td id="dps-dps-skill-frameC">888</td>
                                </tr>
                            </table>
                            <hr>
                            <table>
                                <tr>
                                    <td class="displaytext">Dmg Up%</td>
                                    <td id="dps-output-skill-value-stat76">8888</td>
                                    <td class="displaytext">Targets</td>
                                    <td id="dps-output-skill-value-stat11">8</td>
                                    <td class="displaytext">Hits</td>
                                    <td id="dps-output-skill-value-stat9">8</td>
                                </tr>
                                <tr>
                                    <td class="displaytext">Type</td>
                                    <td id="dps-output-skill-value-stat22">8</td>
                                    <td class="displaytext">Targeting</td>
                                    <td id="dps-output-skill-value-stat21">8</td>
                                </tr>
                            </table>
                            <button class="collapsible-button" style="font-family:mtdfont;font-size:smaller;background-color:#bffcff;border:none;padding:0px;cursor:pointer;">Critical/Penetration↓</button>
                            <div style="display: block;">
                                <table id="dps-critPen-skill">
                                    <tr>
                                        <td class="displaytext"></td>
                                        <td class="displaytext"></td>
                                        <td class="displaytext">Chance(%)</td>
                                        <td class="displaytext">Mult(%)</td>
                                        <td class="displaytext">Single Hit</td>
                                    </tr>
                                    <tr>
                                        <td class="displaytext" colspan="2">テキスト</td>
                                        <td>88.888</td>
                                        <td>888</td>
                                        <td>88888</td>
                                    </tr>
                                </table>
                            </div>
                            <div></div>
                            <button class="collapsible-button" style="font-family:mtdfont;font-size:smaller;background-color:#bffcff;border:none;padding:0px;cursor:pointer;">Attack Details↓</button>
                            <div style="display: block;">
                                <table id="dps-attacks-skill">
                                    <tr>
                                        <td class="displaytext"></td>
                                        <td class="displaytext"></td>
                                        <td class="displaytext">Chance(%)</td>
                                        <td class="displaytext">Targets</td>
                                        <td class="displaytext">Hits</td>
                                        <td class="displaytext">Frames</td>
                                    </tr>
                                    <tr>
                                        <td class="displaytext" colspan="2">テキスト</td>
                                        <td>88.88</td>
                                        <td>8</td>
                                        <td>8</td>
                                        <td>888</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div id="dps-output">
                    <div id="dps-output-stats">
                        <div class="dps-tabs dps-output-stats-tabs">
                            <button class="dps-output-stats-tablink active" style="border-top-left-radius: 15px;" onclick="openTab(event, 'stats-menu','dps-output-stats-tablink')"><img src="../../img/ui-icons/Footer_ImageNurturingIcon.png"> Base</button>
                            <button class="dps-output-stats-tablink" onclick="openTab(event, 'stats-battle','dps-output-stats-tablink')"><img src="../../img/ui-icons/Footer_ImageOrganizationIcon.png"> Battle</button>
                            <button class="dps-output-stats-tablink" style="border-top-right-radius: 15px;" onclick="openTab(event, 'stats-skill','dps-output-stats-tablink')"><img src="../../img/ui-icons/Btl_SkillNotice_Skill.png"> Skill</button>
                        </div>
                        <div id="stats-menu" class="dps-output-stats-tablink-content dps-tabcontent">
                            <table>
                                <tr>
                                    <td class="displaytext" style="width:25%;" rowspan="2">
                                        <script>
                                            document.write(
                                            '<img class="chara-icon" src="../../img/chara-icons/icon_'+masterValues["charaID"]+'_0.png">'
                                            );
                                        </script> 
                                    </td>
                                    <td id="dps-output-menu-trait-text" style="width: 75%;height: 50%;" colspan="99">Amazingly few discotheques provide jukeboxes.</td>
                                </tr>
                                <tr>
                                    <td id="dps-output-menu-skill-text" style="width: 75%;height: 50%;" colspan="99">Sphinx of black quartz, judge my vow!</td>
                                </tr>
                            </table>
                            <table>
                                <tr>
                                    <td rowspan="99" id="type-icons" style="width: 10%; background-color:#99ffbe;border:2px solid #efdfb0;padding-top: 2%;">
                                        <!--add in auto change for this part if possible not priority-->
                                        <script>
                                            document.write(
                                            '<img src="../../img/ui-icons/Icon_Type_'+masterValues.unitcard["element"]+'.png">'+'<img src="../../img/ui-icons/Icon_Job_'+masterValues.baseClass+'.png">'+'<img src="../../img/ui-icons/Summon_Type_'+updateSummonType()+'.png">'
                                            )
                                        </script>
                                    </td>
                                    <td class="displaytext">HP</td>
                                    <td id="dps-output-menu-value-stat1">8888</td>
                                    <td class="displaytext">Atk</td>
                                    <td id="dps-output-menu-value-stat2">8888</td>
                                    <td class="displaytext">aSpd</td>
                                    <td id="dps-output-menu-value-stat6">8888</td>
                                </tr>
                                <tr>
                                    <td class="displaytext">pDef</td>
                                    <td id="dps-output-menu-value-stat3">8888</td>
                                    <td class="displaytext">mDef</td>
                                    <td id="dps-output-menu-value-stat4">8888</td>
                                    <td class="displaytext">PAD</td>
                                    <td id="dps-output-menu-value-stat7">8888</td>
                                </tr>
                                <tr>
                                    <td class="displaytext">Range</td>
                                    <td id="dps-output-menu-value-stat8">8888</td>
                                    <td class="displaytext">Block</td>
                                    <td id="dps-output-menu-value-stat10">8</td>
                                    <td class="displaytext">movSpd</td>
                                    <td id="dps-output-menu-value-stat5">8888</td>
                                </tr>
                            </table>
                        </div>
                        <div id="stats-battle" class="dps-output-stats-tablink-content dps-tabcontent" style="display: none;">
                            <table>
                                <tr>
                                    <td class="displaytext" style="width:25%;" rowspan="2">
                                        <script>
                                            document.write(
                                            '<img class="chara-icon" src="../../img/chara-icons/icon_'+masterValues["charaID"]+'_0.png">'
                                            );
                                        </script>
                                    </td>
                                    <td id="dps-output-battle-trait-text" style="width: 75%;height: 50%;" colspan="99">Amazingly few discotheques provide jukeboxes.</td>
                                </tr>
                                <tr>
                                    <td id="dps-output-battle-skill-text" style="width: 75%;height: 50%;" colspan="99">Sphinx of black quartz, judge my vow!</td>
                                </tr>
                            </table>
                            <table>
                                <tr>
                                    <td rowspan="99" id="type-icons" style="width: 10%; background-color:#99ffbe;border:2px solid #efdfb0;padding-top: 2%;">
                                        <script>
                                            document.write(
                                            '<img src="../../img/ui-icons/Icon_Type_'+masterValues.unitcard["element"]+'.png">'+'<img src="../../img/ui-icons/Icon_Job_'+masterValues.baseClass+'.png">'+'<img src="../../img/ui-icons/Summon_Type_'+updateSummonType()+'.png">'
                                            )
                                        </script>
                                    </td>
                                    <td class="displaytext">HP</td>
                                    <td id="dps-output-battle-value-stat1">8888</td>
                                    <td class="displaytext">Atk</td>
                                    <td id="dps-output-battle-value-stat2">8888</td>
                                    <td class="displaytext">aSpd</td>
                                    <td id="dps-output-battle-value-stat6">8888</td>
                                </tr>
                                <tr>
                                    <td class="displaytext">pDef</td>
                                    <td id="dps-output-battle-value-stat3">8888</td>
                                    <td class="displaytext">mDef</td>
                                    <td id="dps-output-battle-value-stat4">8888</td>
                                    <td class="displaytext">PAD</td>
                                    <td id="dps-output-battle-value-stat7">8888</td>
                                </tr>
                                <tr>
                                    <td class="displaytext">Range</td>
                                    <td id="dps-output-battle-value-stat8">8888</td>
                                    <td class="displaytext">Block</td>
                                    <td id="dps-output-battle-value-stat10">8</td>
                                    <td class="displaytext">movSpd</td>
                                    <td id="dps-output-battle-value-stat5">8888</td>
                                </tr>
                            </table>
                        </div>
                        <div id="stats-skill" class="dps-output-stats-tablink-content dps-tabcontent" style="display: none;">
                            <table>
                                <tr>
                                    <td class="displaytext" style="width:25%;" rowspan="2">
                                        <script>
                                            document.write(
                                            '<img class="chara-icon" src="../../img/chara-icons/icon_'+masterValues["charaID"]+'_0.png">'
                                            );
                                        </script>
                                    </td>
                                    <td id="dps-output-skill-trait-text" style="width: 75%;height: 50%;" colspan="99">Amazingly few discotheques provide jukeboxes.</td>
                                </tr>
                                <tr>
                                    <td id="dps-output-skill-skill-text" style="width: 75%;height: 50%;" colspan="99">Sphinx of black quartz, judge my vow!</td>
                                </tr>
                            </table>
                            <table>
                                <tr>
                                    <td rowspan="99" id="type-icons" style="width: 10%; background-color:#99ffbe;border:2px solid #efdfb0;padding-top: 2%;">
                                        <script>
                                            document.write(
                                            '<img src="../../img/ui-icons/Icon_Type_'+masterValues.unitcard["element"]+'.png">'+'<img src="../../img/ui-icons/Icon_Job_'+masterValues.baseClass+'.png">'+'<img src="../../img/ui-icons/Summon_Type_'+updateSummonType()+'.png">'
                                            )
                                        </script>
                                    </td>
                                    <td class="displaytext">HP</td>
                                    <td id="dps-output-skill-value-stat1">8888</td>
                                    <td class="displaytext">Atk</td>
                                    <td id="dps-output-skill-value-stat2">8888</td>
                                    <td class="displaytext">aSpd</td>
                                    <td id="dps-output-skill-value-stat6">8888</td>
                                </tr>
                                <tr>
                                    <td class="displaytext">pDef</td>
                                    <td id="dps-output-skill-value-stat3">8888</td>
                                    <td class="displaytext">mDef</td>
                                    <td id="dps-output-skill-value-stat4">8888</td>
                                    <td class="displaytext">PAD</td>
                                    <td id="dps-output-skill-value-stat7">8888</td>
                                </tr>
                                <tr>
                                    <td class="displaytext">Range</td>
                                    <td id="dps-output-skill-value-stat8">8888</td>
                                    <td class="displaytext">Block</td>
                                    <td id="dps-output-skill-value-stat10">8</td>
                                    <td class="displaytext">movSpd</td>
                                    <td id="dps-output-skill-value-stat5">8888</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
    <script>
        //scripts to load html stuff, no calculations//
        var coll = document.getElementsByClassName("collapsible-button");
        var i;
        for (i = 0; i < coll.length; i++) {
          coll[i].addEventListener("click", function() {
            this.classList.toggle("collActive");
            var content = this.nextElementSibling;
            if (content.style.display === "block") {
              content.style.display = "none";
            } else {
              content.style.display = "block";
            }
          });
        }
        function openTab(evt, tabName, linktype) {
            var i, tabcontent, tablinks;
            // Get all elements with class="something" and hide them
            tabcontent = document.getElementsByClassName(linktype+"-content");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            // Get all elements with class=linktype and remove the class "active"
            tablinks = document.getElementsByClassName(linktype);
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            // Show the current tab, and add an "active" class to the button that opened the tab
            document.getElementById(tabName).style.display = "block";
            evt.currentTarget.className += " active";
        }
        function changeAwaked(awakened){
            if (awakened){
                location.href = notawakedURL;
            } else {
                location.href = awakedURL;
            }
        }
    </script>
</html>